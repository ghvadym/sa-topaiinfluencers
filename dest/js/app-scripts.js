(function(e){e(document).ready(function(){const m=taiajax.ajaxurl,p=taiajax.nonce,w=e(".header_burger_icon"),v=e(".header_close_icon"),a=e("#header"),f=e(window).width()>1024;if(e(window).width()<1320&&new Swiper(".articles_slider",{slidesPerView:"auto"}),f||e(".footer__title").length&&e(document).on("click",".footer__title",function(){e(this).toggleClass("show_menu"),e(this).next().slideToggle()}),e(window).width()<1250){const s=e("#header");e(window).scroll(function(){e(this).scrollTop()>50?s.addClass("_scrolled"):s.removeClass("_scrolled")})}if(a.length&&w.length&&v.length&&e(document).on("click",".header_burger_icon, .header_close_icon",function(){e(a).toggleClass("active-menu")}),f){const s=e(".hero_section"),t=e(".hero__bg");if(s.length&&t.length){const o=e(s).innerHeight();e(window).scroll(function(){let n=e(this).scrollTop();if(n<o){let i=n*.26,x=n*5e-7,j=-114+i,S=-6e-4+x;e(t).css("transform",`matrix3d(1,0,0,${S} ,0,1,0,.0001111,0,0,1,0,${j},0,0,1)`)}})}}const _=e(".select__head");_.length&&_.on("click",function(s){const t=e(this).closest(".custom_select");if(!t)return!1;t.toggleClass("select-show")});const h=e(".select__item input");h.length&&h.on("change",function(s){const t=e(this).closest("form.archive__filter_wrap");t.length&&(r(e(t)),C(),e(".archive__filter_item .custom_select").removeClass("select-show"))});const d=document.querySelectorAll(".archive__filter_item");d&&d.forEach(s=>{const t=s.querySelector(".select__head"),o=s.querySelector(".select__list"),n=s.querySelector(".custom_select");!t||!o||!n||window.addEventListener("click",function(l){!t.contains(l.target)&&!o.contains(l.target)&&n.classList.remove("select-show")})});const u=e("#articles_load");u.length&&u.on("click",function(s){const t=e("form.archive__filter_wrap");let o=e(this).attr("data-page");o=parseInt(o)+1,t.length?r(e(t),o):r(!1,o)});const g=e(".archive__filter_reset");g.length&&g.on("click",function(s){const t=e(this).closest("form.archive__filter_wrap");t.length&&(y(e(t)),r(e(t)))});function y(s){if(!s)return;e(s).trigger("reset");const t=e(".archive__filter_item .custom_select"),o=e(".archive__filter_wrap");t.length&&e(t).removeClass("select-show"),o.length&&e(o).removeClass("form-active")}function C(){const s=e(".archive__filter_wrap");if(!s.length)return;const t=e(".archive__filter_list input");if(!t.length)return;let o=!1;jQuery.each(t,function(n,l){if(e(l).is(":checked"))return o=!0,!1}),o?e(s).addClass("form-active"):e(s).removeClass("form-active")}function r(s,t){let o;s?o=new FormData(e(s)[0]):o=new FormData;const n=e(".archive__wrap"),l=e(".archive__posts .articles"),c=e("#articles_load");if(o.append("action","archive_filter"),o.append("nonce",p),t&&o.append("page",t),c.length){const i=e(c).attr("data-type");i&&o.append("post_type",i)}jQuery.ajax({type:"POST",url:m,data:o,dataType:"json",processData:!1,contentType:!1,beforeSend:function(){t?e(c).addClass("btn-loading"):e(n).addClass("_spinner")},success:function(i){t?e(c).removeClass("btn-loading"):e(n).removeClass("_spinner"),i.posts&&(i.append?e(l).append(i.posts):e(l).html(i.posts),i.max_pages&&(t&&i.max_pages===t||i.max_pages<2?e(c).hide():e(c).show()),i.count===0?e(c).hide():e(c).show(),e(c).attr("data-page",t))},error:function(i){console.log("error",i)}})}})})(jQuery);
