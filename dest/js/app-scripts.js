(function(e){e(document).ready(function(){const p=taiajax.ajaxurl,g=taiajax.nonce,u=e(".header_burger_icon"),m=e(".header_close_icon"),l=e("#header"),v=e(window).width()>1024;if(l.length&&u.length&&m.length&&e(document).on("click",".header_burger_icon, .header_close_icon",function(){e(l).toggleClass("active-menu")}),v){const n=e(".hero_section"),t=e(".hero__bg");if(n.length&&t.length){const s=e(n).innerHeight();e(window).scroll(function(){let i=e(this).scrollTop();if(i<s){let o=i*.26,y=i*5e-7,C=-114+o,j=-6e-4+y;e(t).css("transform",`matrix3d(1,0,0,${j} ,0,1,0,.0001111,0,0,1,0,${C},0,0,1)`)}})}}const f=e(".select__head");f.length&&f.on("click",function(n){const t=e(this).closest(".custom_select");if(!t)return!1;t.toggleClass("select-show")});const h=e(".select__item input");h.length&&h.on("change",function(n){const t=e(this).closest("form.archive__filter_wrap");t.length&&(r(e(t)),x())});const _=e("#articles_load");_.length&&_.on("click",function(n){const t=e("form.archive__filter_wrap");let s=e(this).attr("data-page");s=parseInt(s)+1,t.length?r(e(t),s):r(!1,s)});const d=e(".archive__filter_reset");d.length&&d.on("click",function(n){const t=e(this).closest("form.archive__filter_wrap");t.length&&(w(e(t)),r(e(t)))});function w(n){if(!n)return;e(n).trigger("reset");const t=e(".archive__filter_item .custom_select"),s=e(".archive__filter_wrap");t.length&&e(t).removeClass("select-show"),s.length&&e(s).removeClass("form-active")}function x(){const n=e(".archive__filter_wrap");if(!n.length)return;const t=e(".archive__filter_list input");if(!t.length)return;let s=!1;jQuery.each(t,function(i,c){if(e(c).is(":checked"))return s=!0,!1}),s?e(n).addClass("form-active"):e(n).removeClass("form-active")}function r(n,t){let s;n?s=new FormData(e(n)[0]):s=new FormData;const i=e(".archive__wrap"),c=e(".archive__posts .articles"),a=e("#articles_load");if(s.append("action","archive_filter"),s.append("nonce",g),t&&s.append("page",t),a.length){const o=e(a).attr("data-type");o&&s.append("post_type",o)}jQuery.ajax({type:"POST",url:p,data:s,dataType:"json",processData:!1,contentType:!1,beforeSend:function(){t?e(a).addClass("btn-loading"):e(i).addClass("_spinner")},success:function(o){t?e(a).removeClass("btn-loading"):e(i).removeClass("_spinner"),o.posts&&(o.append?e(c).append(o.posts):e(c).html(o.posts),o.max_pages&&(t&&o.max_pages===t||o.max_pages<2?e(a).hide():e(a).show()),e(a).attr("data-page",t))},error:function(o){console.log("error",o)}})}})})(jQuery);
